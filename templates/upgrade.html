{% extends "base.html" %}
{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='upgrade.css') }}">

<div class="upgrade-container">
    <div class="upgrade-header">
        <h1>Upgrade to Premium</h1>
        <p class="upgrade-subtitle">Unlock advanced features to boost your productivity and reduce stress</p>
    </div>
    
    <div class="pricing-grid">
        <!-- Free Plan -->
        <div class="pricing-card free-card">
            <div class="pricing-card-header">
                <h3 class="pricing-title">Free</h3>
                <div class="pricing-price">$0</div>
                <div class="pricing-period">Forever</div>
            </div>
            
            <ul class="pricing-features">
                <li class="feature-item">
                    <i class="fas fa-check feature-check"></i>
                    <span>Up to 5 tasks</span>
                </li>
                <li class="feature-item">
                    <i class="fas fa-check feature-check"></i>
                    <span>Basic priority engine</span>
                </li>
                <li class="feature-item">
                    <i class="fas fa-check feature-check"></i>
                    <span>Weekly stress indicator</span>
                </li>
                <li class="feature-item feature-disabled">
                    <i class="fas fa-times feature-cross"></i>
                    <span>Advanced editing</span>
                </li>
                <li class="feature-item feature-disabled">
                    <i class="fas fa-times feature-cross"></i>
                    <span>Task analytics</span>
                </li>
                <li class="feature-item feature-disabled">
                    <i class="fas fa-times feature-cross"></i>
                    <span>Weekly planner</span>
                </li>
            </ul>
            
            <div class="current-plan-badge">
                <i class="fas fa-user-circle"></i>
                Your current plan
            </div>
        </div>
        
        <!-- Premium Plan -->
        <div class="pricing-card premium-card">
            <div class="recommended-badge">
                <i class="fas fa-star"></i>
                RECOMMENDED
            </div>
            
            <div class="pricing-card-header">
                <h3 class="pricing-title">Premium</h3>
                <div class="pricing-price">$4.99</div>
                <div class="pricing-period">per month</div>
            </div>
            
            <ul class="pricing-features">
                <li class="feature-item">
                    <i class="fas fa-check feature-check"></i>
                    <span>Unlimited tasks</span>
                </li>
                <li class="feature-item">
                    <i class="fas fa-check feature-check"></i>
                    <span>Advanced priority engine</span>
                </li>
                <li class="feature-item">
                    <i class="fas fa-check feature-check"></i>
                    <span>Detailed analytics & insights</span>
                </li>
                <li class="feature-item">
                    <i class="fas fa-check feature-check"></i>
                    <span>Edit & delete tasks</span>
                </li>
                <li class="feature-item">
                    <i class="fas fa-check feature-check"></i>
                    <span>Smart weekly planner</span>
                </li>
                <li class="feature-item">
                    <i class="fas fa-check feature-check"></i>
                    <span>Priority support</span>
                </li>
                <li class="feature-item">
                    <i class="fas fa-check feature-check"></i>
                    <span>Export to PDF/Excel</span>
                </li>
                <li class="feature-item">
                    <i class="fas fa-check feature-check"></i>
                    <span>Mobile app access</span>
                </li>
            </ul>
            
            <!-- PERBAIKAN: Gunakan link biasa, bukan form -->
            <div class="upgrade-actions">
                <a href="{{ url_for('payment') }}" class="upgrade-button-link">
                    <i class="fas fa-crown"></i>
                    Upgrade to Premium ($4.99/month)
                </a>
                
                <a href="{{ url_for('direct_upgrade') }}" class="test-upgrade-link" onclick="return confirm('Upgrade to Premium without payment? (For testing only)')">
                    <i class="fas fa-bolt"></i>
                    Test Upgrade (Free - No Payment)
                </a>
                
                <p class="upgrade-note">30-day money back guarantee</p>
            </div>
        </div>
    </div>
    
    <!-- Comparison Table -->
    <div class="comparison-section">
        <h2>Feature Comparison</h2>
        <table class="comparison-table">
            <thead>
                <tr>
                    <th>Feature</th>
                    <th>Free</th>
                    <th>Premium</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Task Limit</td>
                    <td>5 tasks</td>
                    <td>Unlimited</td>
                </tr>
                <tr>
                    <td>Priority Engine</td>
                    <td>Basic</td>
                    <td>Advanced AI-based</td>
                </tr>
                <tr>
                    <td>Task Editing</td>
                    <td><i class="fas fa-times text-danger"></i></td>
                    <td><i class="fas fa-check text-success"></i></td>
                </tr>
                <tr>
                    <td>Weekly Planner</td>
                    <td><i class="fas fa-times text-danger"></i></td>
                    <td><i class="fas fa-check text-success"></i></td>
                </tr>
                <tr>
                    <td>Stress Analytics</td>
                    <td>Basic indicator</td>
                    <td>Detailed reports</td>
                </tr>
                <tr>
                    <td>Export Options</td>
                    <td><i class="fas fa-times text-danger"></i></td>
                    <td>PDF, Excel, CSV</td>
                </tr>
                <tr>
                    <td>Support</td>
                    <td>Community</td>
                    <td>Priority 24/7</td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <!-- FAQ Section -->
    <div class="faq-section">
        <h2>Frequently Asked Questions</h2>
        
        <div class="faq-grid">
            <div class="faq-item">
                <h3 class="faq-question">
                    <i class="fas fa-question-circle"></i>
                    Can I cancel anytime?
                </h3>
                <p class="faq-answer">Yes, you can cancel your Premium subscription at any time from your account settings. No questions asked.</p>
            </div>
            
            <div class="faq-item">
                <h3 class="faq-question">
                    <i class="fas fa-question-circle"></i>
                    Will I lose my data if I downgrade?
                </h3>
                <p class="faq-answer">No, your data is completely safe. However, you'll only be able to view/edit up to 5 tasks in the Free version.</p>
            </div>
            
            <div class="faq-item">
                <h3 class="faq-question">
                    <i class="fas fa-question-circle"></i>
                    Is there a free trial?
                </h3>
                <p class="faq-answer">Yes! All Premium features are available during a 7-day free trial. No credit card required to start.</p>
            </div>
            
            <div class="faq-item">
                <h3 class="faq-question">
                    <i class="fas fa-question-circle"></i>
                    Can I switch between plans?
                </h3>
                <p class="faq-answer">Absolutely. You can upgrade or downgrade at any time. Changes take effect immediately.</p>
            </div>
            
            <div class="faq-item">
                <h3 class="faq-question">
                    <i class="fas fa-question-circle"></i>
                    What payment methods do you accept?
                </h3>
                <p class="faq-answer">We accept all major credit cards, PayPal, and bank transfers for annual plans.</p>
            </div>
            
            <div class="faq-item">
                <h3 class="faq-question">
                    <i class="fas fa-question-circle"></i>
                    Is my payment information secure?
                </h3>
                <p class="faq-answer">Yes, we use SSL encryption and never store your credit card information on our servers.</p>
            </div>
        </div>
    </div>
    
    <!-- Final CTA -->
    <div class="final-cta">
        <h2>Ready to Boost Your Productivity?</h2>
        <p>Join thousands of students who use Scholar Scheduler Premium to manage their academic workload efficiently.</p>
        
        <a href="{{ url_for('payment') }}" class="cta-button-link">
            <i class="fas fa-rocket"></i>
            Start Your Premium Journey
        </a>
        <p class="cta-note">No risk, 30-day money back guarantee</p>
    </div>
</div>

<style>
/* Additional styles for buttons */
.upgrade-actions {
    margin-top: 2rem;
    text-align: center;
}

.upgrade-button-link {
    display: block;
    width: 100%;
    padding: 1rem;
    background: white;
    color: #3b82f6;
    border: none;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    text-decoration: none;
    text-align: center;
    margin-bottom: 1rem;
    font-family: 'Poppins', sans-serif;
}

.upgrade-button-link:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(255, 255, 255, 0.2);
}

.test-upgrade-link {
    display: block;
    width: 100%;
    padding: 0.8rem;
    background: linear-gradient(135deg, #8b5cf6, #7c3aed);
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 0.9rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    text-decoration: none;
    text-align: center;
    margin-bottom: 0.5rem;
    font-family: 'Poppins', sans-serif;
}

.test-upgrade-link:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(139, 92, 246, 0.3);
}

.cta-button-link {
    display: inline-block;
    padding: 1.2rem 3rem;
    background: linear-gradient(135deg, #3b82f6, #14b8a6);
    color: white;
    text-decoration: none;
    border-radius: 10px;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    text-align: center;
    border: none;
    font-family: 'Poppins', sans-serif;
}

.cta-button-link:hover {
    transform: translateY(-3px);
    box-shadow: 0 15px 30px rgba(59, 130, 246, 0.3);
}

.upgrade-note {
    color: rgba(255, 255, 255, 0.8);
    font-size: 0.9rem;
    margin-top: 0.5rem;
    text-align: center;
}

.cta-note {
    margin-top: 1rem;
    font-size: 0.9rem;
    color: var(--notion-text-light);
}
</style>

<script>
// Simple button animation
document.addEventListener('DOMContentLoaded', function() {
    const buttons = document.querySelectorAll('.upgrade-button-link, .test-upgrade-link, .cta-button-link');
    
    buttons.forEach(button => {
        button.addEventListener('click', function() {
            // Add loading animation
            const originalText = this.innerHTML;
            this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Loading...';
            this.style.pointerEvents = 'none';
            
            // Reset after 3 seconds if still on same page
            setTimeout(() => {
                if (this.innerHTML.includes('spinner')) {
                    this.innerHTML = originalText;
                    this.style.pointerEvents = 'auto';
                }
            }, 3000);
        });
    });
});
</script>
{% endblock %}